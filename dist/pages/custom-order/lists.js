(wx.webpackJsonp=wx.webpackJsonp||[]).push([[30],{"141":function(t,e,n){t.exports=n.p+"pages/custom-order/lists.wxml"},"219":function(t,e,n){"use strict";n.r(e);n(220);var a=n(81);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r)},"220":function(t,e,n){"use strict";n(141)},"221":function(t,e,n){},"28":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{"value":!0});var N=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var n=[],a=!0,r=!1,s=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,s=t}finally{try{!a&&i.return&&i.return()}finally{if(r)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t};function defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var r,s,z=n(0),o=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(z),i=n(142),u=n(7);function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}n(221);var _=(function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Lists,z.Component),a(Lists,[{"key":"_constructor","value":function _constructor(){(function get(t,e,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,e);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:get(r,e,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0})(Lists.prototype.__proto__||Object.getPrototypeOf(Lists.prototype),"_constructor",this).call(this),this.state={"stateMap":["STAY_RECEIPT","STAY_PAY","STAY_COMMENT","FINISH"],"current":0,"lists":{"STAY_RECEIPT":[],"STAY_PAY":[],"STAY_COMMENT":[],"FINISH":[]},"pageSize":10,"pageNo":{"STAY_RECEIPT":1,"STAY_PAY":1,"STAY_COMMENT":1,"FINISH":1},"hasNextPage":{"STAY_RECEIPT":!0,"STAY_PAY":!0,"STAY_COMMENT":!0,"FINISH":!0},"pageState":"STAY_RECEIPT"},this.$$refs=new o.default.RefsArray}},{"key":"componentWillMount","value":function componentWillMount(){this.getOrderLists()}},{"key":"onPullDownRefresh","value":function onPullDownRefresh(){var t=this;this.setState({"lists":{"STAY_RECEIPT":[],"STAY_PAY":[],"STAY_COMMENT":[],"FINISH":[]},"pageNo":{"STAY_RECEIPT":1,"STAY_PAY":1,"STAY_COMMENT":1,"FINISH":1},"hasNextPage":{"STAY_RECEIPT":!0,"STAY_PAY":!0,"STAY_COMMENT":!0,"FINISH":!0},"pageState":"STAY_RECEIPT"},function(){t.getOrderLists()})}},{"key":"getOrderLists","value":function getOrderLists(){var e=this,s=this.state.pageState;if(this.state.hasNextPage[s]){o.default.showLoading({"title":"数据加载中"});var t={"pageNo":this.state.pageNo[s],"pageSize":this.state.pageSize,"repairOrderState":this.state.pageState};(0,i.getLists)(t).then(function(t){if(o.default.hideLoading(),0===t.data.code){var r=t.data.data;e.setState(function(t){var e=(0,u.simpleClone)(t.hasNextPage),n=(0,u.simpleClone)(t.pageNo),a=(0,u.simpleClone)(t.lists);return r.hasNextPage&&(n[s]=r.nextPage),e[s]=r.hasNextPage,a[s]=a[s].concat(r.list),{"lists":a,"pageNo":n,"hasNextPage":e}})}})}else o.default.showToast({"title":"没有更多了","icon":"none"})}},{"key":"_createData","value":function _createData(t,e,n){this.__state=t||this.state||{},this.__props=e||this.props||{};var a=this.$prefix,r=(0,z.genCompid)(a+"$compid__59"),s=N(r,2),o=s[0],i=s[1],u=(0,z.genCompid)(a+"$compid__60"),_=N(u,2),c=_[0],p=_[1],l=(0,z.genCompid)(a+"$compid__61"),f=N(l,2),d=f[0],S=f[1],h=(0,z.genCompid)(a+"$compid__62"),g=N(h,2),T=g[0],m=g[1],A=(0,z.genCompid)(a+"$compid__63"),P=N(A,2),y=P[0],Y=P[1],v=this._createListItemData(a+"gdzzzzzzzz")(this.__state.lists.STAY_RECEIPT),C=this._createListItemData(a+"gezzzzzzzz")(this.__state.lists.STAY_PAY),I=this._createListItemData(a+"gfzzzzzzzz")(this.__state.lists.STAY_COMMENT),E=this._createListItemData(a+"ggzzzzzzzz")(this.__state.lists.FINISH);return z.propsManager.set({"current":this.__state.current,"tabList":[{"title":"待处理"},{"title":"待付款"},{"title":"待评价"},{"title":"已完成"}],"onClick":this.handleTab},i,o),z.propsManager.set({"current":this.__state.current,"index":0},p,c),z.propsManager.set({"current":this.__state.current,"index":1},S,d),z.propsManager.set({"current":this.__state.current,"index":2},m,T),z.propsManager.set({"current":this.__state.current,"index":3},Y,y),Object.assign(this.__state,{"$compid__59":i,"$compid__60":p,"$compid__61":S,"$compid__62":m,"$compid__63":Y,"anonymousState__temp":v,"anonymousState__temp2":C,"anonymousState__temp3":I,"anonymousState__temp4":E}),this.__state}},{"key":"_createListItemData","value":function _createListItemData(){return function(t){return{"lists":t}}}}]),s=r=Lists,r.$$events=["getOrderLists"],r.$$componentPath="pages/custom-order/lists",s);function Lists(){var t,e,n;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Lists);for(var a=arguments.length,r=Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=n=_possibleConstructorReturn(this,(t=Lists.__proto__||Object.getPrototypeOf(Lists)).call.apply(t,[this].concat(r)))).$usedState=["$compid__59","$compid__60","$compid__61","$compid__62","$compid__63","anonymousState__temp","anonymousState__temp2","anonymousState__temp3","anonymousState__temp4","stateMap","current","lists","pageSize","pageNo","hasNextPage","pageState"],n.config={"navigationBarTitleText":"报修记录","navigationStyle":"default"},n.handleTab=function(e){n.setState(function(t){return{"current":e,"hasNextPage":{"STAY_RECEIPT":!0,"STAY_PAY":!0,"STAY_COMMENT":!0,"FINISH":!0},"pageNo":{"STAY_RECEIPT":1,"STAY_PAY":1,"STAY_COMMENT":1,"FINISH":1},"lists":{"STAY_RECEIPT":[],"STAY_PAY":[],"STAY_COMMENT":[],"FINISH":[]},"pageState":t.stateMap[e]}},function(){n.getOrderLists()})},n.customComponents=["AtTabs","AtTabsPane"],_possibleConstructorReturn(n,e)}e.default=_,Component(n(0).default.createComponent(_,!0))},"81":function(t,e,n){"use strict";n.r(e);var a=n(28),r=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);e.default=r.a}},[[219,0,1,2]]]);