(wx.webpackJsonp=wx.webpackJsonp||[]).push([[48],{"152":function(t,e,r){t.exports=r.p+"pages/staff-order/order.wxml"},"237":function(t,e,r){"use strict";r.r(e);r(238);var n=r(88);for(var o in n)"default"!==o&&function(t){r.d(e,t,function(){return n[t]})}(o)},"238":function(t,e,r){"use strict";r(152)},"32":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{"value":!0});var u=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t};function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,a,l=r(0),i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(l),s=r(10);function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}r(89);var c=(function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Lists,l.Component),n(Lists,[{"key":"_constructor","value":function _constructor(){(function get(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:get(o,e,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0})(Lists.prototype.__proto__||Object.getPrototypeOf(Lists.prototype),"_constructor",this).call(this),this.state={"current":0,"pageNo":1,"pageSize":5,"hasNextPage":!0,"repairOrderState":"PENDING_ORDER","lists":[],"orderStateOptions":["PENDING_ORDER","HANDLEING","FINISH","EXCEPTION"]},this.$$refs=new i.default.RefsArray}},{"key":"componentWillMount","value":function componentWillMount(){this.getLists()}},{"key":"onPullDownRefresh","value":function onPullDownRefresh(){var t=this;this.setState({"lists":[],"pageNo":1,"pageSize":5,"hasNextPage":!0},function(){t.getLists()})}},{"key":"onReachBottom","value":function onReachBottom(){this.getLists()}},{"key":"call","value":function call(t,e){e.stopPropagation(),i.default.makePhoneCall({"phoneNumber":t})}},{"key":"_createData","value":function _createData(t,e,r){this.__state=t||this.state||{},this.__props=e||this.props||{};var n=this.$prefix,o=(0,l.genCompid)(n+"$compid__65"),a=u(o,2),i=a[0],s=a[1];return l.propsManager.set({"className":"tabs-header","current":this.__state.current,"tabList":[{"title":"待处理"},{"title":"处理中"},{"title":"已完成"},{"title":"申述中"}],"onClick":this.handleClick},s,i),Object.assign(this.__state,{"$compid__65":s}),this.__state}}]),a=o=Lists,o.$$events=["navigateTo","call"],o.$$componentPath="pages/staff-order/order",a);function Lists(){var t,e,a;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Lists);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a=_possibleConstructorReturn(this,(t=Lists.__proto__||Object.getPrototypeOf(Lists)).call.apply(t,[this].concat(n)))).$usedState=["$compid__65","current","pageNo","pageSize","hasNextPage","repairOrderState","lists","orderStateOptions"],a.config={"navigationBarTitleText":"报修订单","navigationStyle":"default"},a.getLists=function(){var t=a.state,e=t.pageNo,r=t.pageSize,n=t.hasNextPage;if(!n)return i.default.showToast({"title":"没有更多了","icon":"none"}),void i.default.stopPullDownRefresh();var o={"pageNo":e,"pageSize":r,"hasNextPage":n,"userId":i.default.getStorageSync("userId"),"masterId":i.default.getStorageSync("masterInfo").masterId,"repairOrderState":a.state.repairOrderState};i.default.showLoading({"title":"加载中"}),(0,s.repairOrderLists)(o).then(function(t){if(i.default.hideLoading(),i.default.stopPullDownRefresh(),0===t.data.code){var e=t.data.data;a.setState(function(t){return{"hasNextPage":e.hasNextPage,"pageNo":e.hasNextPage?e.nextPage:e.pageNo,"lists":t.lists.concat(e.list)}})}})},a.handleClick=function(e){a.setState(function(t){return{"current":e,"lists":[],"pageNo":1,"pageSize":5,"hasNextPage":!0,"repairOrderState":t.orderStateOptions[e]}},function(){a.getLists()})},a.navigateTo=function(t){var e=t.currentTarget.dataset.url;i.default.navigateTo({"url":e})},a.customComponents=["AtTabs"],_possibleConstructorReturn(a,e)}e.default=c,Component(r(0).default.createComponent(c,!0))},"88":function(t,e,r){"use strict";r.r(e);var n=r(32),o=r.n(n);for(var a in n)"default"!==a&&function(t){r.d(e,t,function(){return n[t]})}(a);e.default=o.a}},[[237,0,1,2]]]);