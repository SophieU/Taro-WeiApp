(wx.webpackJsonp=wx.webpackJsonp||[]).push([[46],{"148":function(t,e,r){t.exports=r.p+"pages/staff-order/order.wxml"},"231":function(t,e,r){"use strict";r.r(e);r(232);var n=r(86);for(var a in n)"default"!==a&&function(t){r.d(e,t,function(){return n[t]})}(a)},"232":function(t,e,r){"use strict";r(148)},"32":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{"value":!0});var u=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t};function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a,o,c=r(0),i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(c),s=r(10);function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}r(87);var l=(function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Lists,c.Component),n(Lists,[{"key":"_constructor","value":function _constructor(){(function get(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var a=Object.getPrototypeOf(t);return null===a?void 0:get(a,e,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(Lists.prototype.__proto__||Object.getPrototypeOf(Lists.prototype),"_constructor",this).call(this),this.state={"current":0,"pageNo":1,"pageSize":5,"hasNextPage":!0,"repairOrderState":"PENDING_ORDER","lists":[],"orderStateOptions":["PENDING_ORDER","HANDLEING","FINISH","EXCEPTION"]},this.$$refs=new i.default.RefsArray}},{"key":"componentWillMount","value":function componentWillMount(){this.getLists()}},{"key":"onPullDownRefresh","value":function onPullDownRefresh(){var t=this;this.setState({"lists":[],"pageNo":1,"pageSize":5,"hasNextPage":!0},function(){t.getLists()})}},{"key":"onReachBottom","value":function onReachBottom(){this.getLists()}},{"key":"call","value":function call(t,e){e.stopPropagation(),i.default.makePhoneCall({"phoneNumber":t})}},{"key":"_createData","value":function _createData(t,e,r){this.__state=t||this.state||{},this.__props=e||this.props||{};var n=this.$prefix,a=(0,c.genCompid)(n+"$compid__66"),o=u(a,2),i=o[0],s=o[1];return c.propsManager.set({"className":"tabs-header","current":this.__state.current,"tabList":[{"title":"待处理"},{"title":"处理中"},{"title":"已完成"},{"title":"申述中"}],"onClick":this.handleClick},s,i),Object.assign(this.__state,{"$compid__66":s}),this.__state}}]),o=a=Lists,a.$$events=["navigateTo","call"],a.$$componentPath="pages/staff-order/order",o);function Lists(){var t,e,o;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Lists);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=o=_possibleConstructorReturn(this,(t=Lists.__proto__||Object.getPrototypeOf(Lists)).call.apply(t,[this].concat(n)))).$usedState=["$compid__66","current","pageNo","pageSize","hasNextPage","repairOrderState","lists","orderStateOptions"],o.config={"navigationBarTitleText":"报修订单","navigationStyle":"default"},o.getLists=function(){var t=o.state,e=t.pageNo,r=t.pageSize,n=t.hasNextPage;if(n){var a={"pageNo":e,"pageSize":r,"hasNextPage":n,"userId":i.default.getStorageSync("userId"),"masterId":i.default.getStorageSync("masterInfo").masterId,"repairOrderState":o.state.repairOrderState};i.default.showLoading({"title":"加载中"}),(0,s.repairOrderLists)(a).then(function(t){if(i.default.hideLoading(),0===t.data.code){var e=t.data.data;o.setState(function(t){return{"hasNextPage":e.hasNextPage,"pageNo":e.hasNextPage?e.nextPage:e.pageNo,"lists":t.lists.concat(e.list)}})}})}else i.default.showToast({"title":"没有更多了","icon":"none"})},o.handleClick=function(e){o.setState(function(t){return{"current":e,"lists":[],"pageNo":1,"pageSize":5,"hasNextPage":!0,"repairOrderState":t.orderStateOptions[e]}},function(){o.getLists()})},o.navigateTo=function(t){var e=t.currentTarget.dataset.url;i.default.navigateTo({"url":e})},o.customComponents=["AtTabs"],_possibleConstructorReturn(o,e)}e.default=l,Component(r(0).default.createComponent(l,!0))},"86":function(t,e,r){"use strict";r.r(e);var n=r(32),a=r.n(n);for(var o in n)"default"!==o&&function(t){r.d(e,t,function(){return n[t]})}(o);e.default=a.a}},[[231,0,1,2]]]);